version: '3'

services:
  elasticsearch:
    container_name: elasticsearch-basic
    image: docker.elastic.co/elasticsearch/elasticsearch:8.10.4
    ports:
      - 9200:9200
      - 9300:9300
    environment:
      - "discovery.type=single-node"
      - "ELASTIC_PASSWORD=root"
      - "xpack.security.enabled=true"
      - "xpack.security.http.ssl.enabled=true"
      - "xpack.security.http.ssl.key=/usr/share/elasticsearch/config/ssl/unencrypted-key.pem"
      - "xpack.security.http.ssl.certificate=/usr/share/elasticsearch/config/ssl/cert.pem"
    volumes:
      - /Users/dominik/projects/kds-team.ex-elasticsearch/es_builds/basic_https/certs:/usr/share/elasticsearch/config/ssl
